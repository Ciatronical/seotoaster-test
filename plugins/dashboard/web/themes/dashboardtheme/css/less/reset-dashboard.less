@import "base/variables";

@import "base/normalize";

// Reset & Basics
//==================================================
*{
    margin                      : 0;
    padding                     : 0;
    outline                     : none;
    border                      : none;
    background                  : transparent;
    vertical-align              : baseline;
    -webkit-touch-callout       : none; //если надо, то запрещаем выделение текста
    -webkit-tap-highlight-color : rgba(0, 0, 0, 0); //убираем фон подсветки ссылок и кнопок
    -webkit-text-size-adjust    : none; //фиксим баг в IOS cо шкалированием в landscape

    &, &:before, &:after{
        .box-sizing();
    }
}
.container{
    position     : relative;
    margin-left  : auto;
    margin-right : auto;
    .clearfix;

    .activate-responsive-style(@activate) when (@activate = false){
        width : @grid-container-width;
    }
    .activate-responsive-style(@activate) when (@activate = true){
        width     : 90%;
        max-width : @grid-container-width;
    }
    .activate-responsive-style(@responsive);
}
.reset-style{
    .reset-style;
}
::-moz-selection{
    background : @text-select-bg;
    color      : @text-select-color;
}
::selection{
    background : @text-select-bg;
    color      : @text-select-color;
}
body{
    font-family                 : sans-serif;
    -webkit-text-size-adjust    : 100%;
    -ms-text-size-adjust        : 100%;
    //-webkit-font-smoothing      : antialiased; // Fix for webkit rendering
    -webkit-font-smoothing      : subpixel-antialiased !important;
    -webkit-backface-visibility : hidden;
    -moz-backface-visibility    : visible;
    -ms-backface-visibility     : hidden;
    -ms-touch-action            : manipulation;
    touch-action                : manipulation;
}
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section{
    display : block;
}
audio, canvas, video{
    .inline-block;
}
audio:not([controls]){
    display : none;
    height  : 0;
}
blockquote, q{
    quotes : none;
}
blockquote:before, blockquote:after,
q:before, q:after{
    content : '';
    content : none;
}
em{ font-style : italic; }
strong{ font-weight : bold; }
small{ font-size : 0.8em; }
[hidden]{ display : none; }
table{
    border-spacing  : 0;
    border-collapse : collapse;
//    word-break      : break-all
}
a:focus, [type="checkbox"]:focus, [type="radio"]:focus, *:focus{
    outline : none;
}
a, [type="submit"], [type="button"], button, [type="checkbox"], [type="radio"]{ cursor : pointer; }
img, [type="submit"], [type="button"], button, [type="checkbox"], [type="radio"]{ vertical-align : middle; }
img{
    max-width : 100%;
    height    : auto;
}
sub{ vertical-align: sub;}
sup{ vertical-align: super;}

.fb-like-box{
    &>span, iframe{
        position : relative !important;
        width    : 100% !important;
//        height   : auto !important;
    }
}
.mobile iframe{
    width : 100%;
}
.gall{
    .inline-block;
}
.gmaps{
    max-width : 100%;
    img{ max-width : none; }
}

[contenteditable="true"]{
    .inline-block();
    background : @input-bg;
    border     : @input-border-width solid @input-border-color;
    cursor     : text;
    padding    : @padding-mini-vertical @padding-mini-horizontal;
}

// Reset Form
//==================================================
fieldset{
    padding : @padding-base-vertical @padding-base-horizontal;
    border  : 1px solid @gray-light;
    legend{
        padding     : 0;
        border      : 0;
        line-height : normal;
    }
}
input, select, textarea, button{
    max-width   : 100%;
    width       : 100%;
//    font-size   : 100%;
    font-family : inherit;
    .placeholder();
}
button, input{
    &::-moz-focus-inner{
        padding : 0;
        border  : 0;
    }
}

// Reset width of input images, buttons, radios, checkboxes
[type="file"],
[type="image"],
[type="submit"],
[type="reset"],
[type="button"],
[type="radio"],
[type="checkbox"]{
    width : auto; // Override of generic input selector
}
[type="file"]{
    border  : none;
    padding : 0;
}

textarea{
    vertical-align : top;
    line-height    : normal;
    .resize();
}

[type="search"]{
    -webkit-appearance : textfield;
    &::-webkit-search-cancel-button, &::-webkit-search-decoration{
        -webkit-appearance : none;
    }
}

[type="checkbox"], [type="radio"]{
    padding : 0;
    border  : none;
    height  : auto;

    &:focus{
        .box-shadow(none, @input-shadow-focus) !important;
    }
}

// Make multiple select elements height not fixed
select[multiple],
select[size]{
    height : auto;
}

// Fix optgroup Firefox bug per https://github.com/twitter/bootstrap/issues/7611
select optgroup{
    font-style  : inherit;
    font-size   : inherit;
    font-family : inherit;
}

[type="button"], [type="submit"], button{
    clear  : both;
    width  : auto;
    border : none;
}
button, [type="button"], [type="reset"], [type="submit"]{
    cursor             : pointer;
    -webkit-appearance : button;

    &:focus{
        .box-shadow(none, @input-shadow-focus);
    }
}
button[disabled], html input[disabled]{
    cursor : default;
}
.btn, button, [type="submit"], [type="button"]{
    a{
        color : inherit;
    }
}

// Reset for all navigation items, related-products
//==================================================
//fix for Safari 3
.activate(@activate, @activate2) when (@activate = true) and (@activate2 = webkit) {
    ::i-block-chrome, .main_menu,
    ::i-block-chrome, .listpages,
    ::i-block-chrome, .listcategories,
    ::i-block-chrome, .featureditem,
    ::i-block-chrome, .search-results,
    ::i-block-chrome, .relatedpages,
    ::i-block-chrome, .listxrss,
    ::i-block-chrome, .related-products{
        display : table;
    }
}
.activate(@webkit, webkit);

//fix for Opera
.activate(@activate, @activate2) when (@activate = true) and (@activate2 = o) {
    noindex:-o-prefocus, .main_menu,
    noindex:-o-prefocus, .listpages,
    noindex:-o-prefocus, .listcategories,
    noindex:-o-prefocus, .featureditem,
    noindex:-o-prefocus, .search-results,
    noindex:-o-prefocus, .relatedpages,
    noindex:-o-prefocus, .listxrss,
    noindex:-o-prefocus, .related-products{
        word-spacing : -0.3em;
        li{
            word-spacing : normal;
        }
    }
}
.activate(@opera, o);

.static_menu, .static_menu li, .main_menu, .main_menu li, .main_menu ul, .main_menu ul li, .sitemap, .sitemap li,
.listpages, .listpages li, .listcategories, .listcategories li, .featureditem, .featureditem li, .featureapage, .relatedpages, .relatedpages li,
.listxrss, .listxrss li, .search-results, .search-results li, .img_gallery, .img_gallery li, .related-products, .related-products li{
    margin          : 0;
    padding         : 0;
    list-style-type : none;
    .clearfix();
}
.static_menu a, .main_menu a, .sitemap a{
    color : inherit;
}
.listpages li, .listcategories li, .featureditem li, .featureapage, .search-results li, .relatedpages li, .listxrss li, .related-products li{
    position : relative;

    a{
        display : block;
    }

    .page-teaser-image{
        position : relative;

        img{
            width : 100%;
        }
    }

    .page-title{
        display     : block;
        margin      : 0 0 0.25em;
        font-size   : @font-size-large;
        font-family : @font-family-headings;
        line-height : 1;
    }
}
.listpages li span, .listcategories li span, .featureditem li span, .featureapage p, .search-results li span, .relatedpages li span, .listxrss li p, .related-products .product-description{
    display  : block;
    overflow : hidden;
    margin   : 0;

    &:empty{
        display : none;
        margin  : 0;
    }
}

// Overlays
.ui-widget-overlay{
    position   : fixed;
    top        : 0;
    right      : 0;
    bottom     : 0;
    left       : 0;
    z-index    : 1000;
    background : #000;
    .opacity(0.5);

    &~.ui-widget-overlay{
        display : none;
    }
}
.ui-dialog{
    position : fixed;
    z-index  : 1001;
}

.loading{
    position            : fixed;
    top                 : 0;
    left                : 0;
    bottom              : 0;
    right               : 0;
    z-index             : 1000;
    background-color    : rgba(255, 255, 255, 0.95);
    background-position : center center;
    background-repeat   : no-repeat;

    &:after, &:before{
        position    : absolute;
        left        : 0;
        right       : 0;
        top         : 3em;
        bottom      : 0;
        font-size   : 3em;
        color       : #999;
        margin      : auto;
        text-align  : center;
        line-height : 1;
        height      : 1em;
    }

    &:after{
        content : "Loading...";
    }

    &:before{
        font-family : 'toaster-icons';
        content     : "\e0f3";
        font-size   : 10em;
        height      : 1em;
        width       : 1em;
        top         : -0.5em;
        .transition();
    }
}

//  Toaster ICON
//==================================================
.activate-toaster-icon() when (@toaster-icons = true){
    @import "elements/toaster-icons";
}
.activate-toaster-icon();

// Grid System
//==================================================
@import "elements/grid";

// System classes
//==================================================
.activate-system-classes() when (@system-classes = true){
    @import "elements/system-classes";
}
.activate-system-classes();